"use strict";function startIt(){var a=document.createElement("select");a.id="dd1";var b=0;for(b=0;b<jsonFromApi.bars.length;b++){var c=new Option;c.value=b+1,c.text="#Progress"+(b+1),a.options.add(c);var d="percent"+(b+1);document.getElementById("progressBars").innerHTML+='<div class="progress"><div id='+d+' class="progress-bar" role="progressbar" style="width: '+jsonFromApi.bars[b]+'%"></div></div>'}for(document.getElementById("footer").appendChild(a),document.getElementById("dd1").classList.add("selectpicker"),document.getElementById("dd1").addEventListener("change",intializePrgBar),document.getElementById("footer").appendChild(spanElem),b=0;b<jsonFromApi.buttons.length;b++){var e=document.createElement("BUTTON");e.id="btn"+b,e.innerHTML=jsonFromApi.buttons[b],e.dataset.val=jsonFromApi.buttons[b],e.dataset.cnt=jsonFromApi.buttons[b];document.getElementById("footer").appendChild(e),document.getElementById("btn"+b).addEventListener("click",changeWidth)}}function intializePrgBar(){console.log(this);var a=this,b=a.options[a.selectedIndex].value;selctedDDIndex=a.selectedIndex;var c="percent"+b;document.getElementById(c).style.width=jsonFromApi.bars[a.selectedIndex]+"%"}function changeWidth(){var a="percent"+(selctedDDIndex+1),b=document.getElementById(a),c=parseInt(b.style.width),d=parseInt(this.dataset.val);console.log(c),console.log(d),d<0?c>=0&&(c+=d):c<=parseInt(jsonFromApi.limit)&&(c+=d),c>parseInt(jsonFromApi.limit)?c=parseInt(jsonFromApi.limit):c<0&&(c=0),c<=40?(b.classList.remove("progress-bar-warning"),b.classList.remove("progress-bar-danger"),b.classList.add("progress-bar-success")):c>40&&c<80?(b.classList.remove("progress-bar-success"),b.classList.remove("progress-bar-danger"),b.classList.add("progress-bar-warning")):c>=80&&c<parseInt(jsonFromApi.limit)&&(b.classList.remove("progress-bar-warning"),b.classList.remove("progress-bar-success"),b.classList.add("progress-bar-danger")),b.style.width=c+"%"}var jsonFromApi=new Object,selctedDDIndex=0,spanElem=document.createElement("span");spanElem.innerHTML="&nbsp;";var HttpClient=function(){this.get=function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&b(c.responseText)},c.open("GET",a,!0),c.send(null)}},client=new HttpClient;client.get("http://pb-api.herokuapp.com/bars",function(a){jsonFromApi=JSON.parse(a),startIt()});