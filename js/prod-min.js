function startIt(){for(dropdownElem=document.createElement("select"),dropdownElem.id="dd1",i=0;i<json1.bars.length;i++){var a=new Option;a.value=i+1,a.text="#Progress"+(i+1),dropdownElem.options.add(a);var b="percent"+(i+1);document.getElementById("progressBars").innerHTML+='<div class="progress"><div id='+b+' class="progress-bar" role="progressbar" style="width: '+json1.bars[i]+'%"></div></div>'}for(document.getElementById("footer").appendChild(dropdownElem),document.getElementById("dd1").addEventListener("change",intializePrgBar),i=0;i<json1.buttons.length;i++){var c=document.createElement("BUTTON");c.id="btn"+i,c.innerHTML=json1.buttons[i],c.dataset.val=json1.buttons[i],c.dataset.cnt=json1.buttons[i];document.getElementById("footer").appendChild(c),document.getElementById("btn"+i).addEventListener("click",changeWidth)}}function intializePrgBar(){console.log(this);var a=this,b=a.options[a.selectedIndex].value;selctedIndex1=a.selectedIndex;var c="percent"+b;document.getElementById(c).style.width=json1.bars[a.selectedIndex]+"%"}function changeWidth(){var a="percent"+(selctedIndex1+1),b=document.getElementById(a),c=parseInt(b.style.width),d=parseInt(this.dataset.val);console.log(c),console.log(d),d<0?c>=0&&(c+=d):c<=parseInt(json1.limit)&&(c+=d),c>parseInt(json1.limit)?c=parseInt(json1.limit):c<0&&(c=0),c<=40?(b.classList.remove("progress-bar-warning"),b.classList.remove("progress-bar-danger"),b.classList.add("progress-bar-success")):c>40&&c<80?(b.classList.remove("progress-bar-success"),b.classList.remove("progress-bar-danger"),b.classList.add("progress-bar-warning")):c>=80&&c<parseInt(json1.limit)&&(b.classList.remove("progress-bar-warning"),b.classList.remove("progress-bar-success"),b.classList.add("progress-bar-danger")),b.style.width=c+"%"}json1=new Object;var selctedIndex1=0,HttpClient=function(){this.get=function(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4==c.readyState&&200==c.status&&b(c.responseText)},c.open("GET",a,!0),c.send(null)}},client=new HttpClient;client.get("http://pb-api.herokuapp.com/bars",function(a){json1=JSON.parse(a),startIt()});